{"ast":null,"code":"var _jsxFileName = \"/home/tanisha/Desktop/announcement-page/src/components/login.js\";\n// import React, {useState} from 'react'\nimport React from 'react';\nimport { connect } from \"react-redux\"; // import {LoginAction} from '../actions'\n\nimport { Navigate } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      mailError: '',\n      pwdError: false,\n      loginErr: ''\n    };\n    this.handleForm = this.handleForm.bind(this);\n    this.setformData = this.setformData.bind(this);\n  }\n\n  handleForm(event) {\n    let validate = true;\n    event.preventDefault();\n\n    if (this.state.password === '') {\n      validate = false;\n      this.setState({\n        pwdError: true\n      });\n    }\n\n    if (this.state.email === '') {\n      validate = false;\n      this.setState({\n        mailError: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: \"email field cannot be empty.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this)\n      });\n    }\n\n    if (!this.state.email.match(/^[A-Za-z0-9+-._]+@[A-Za-z0-9]+\\.[a-zA-Z]+$/)) {\n      validate = false;\n      this.setState({\n        mailError: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: \"Invalid email. Please enter valid email.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)\n      });\n    }\n\n    if (validate) {// this.props.LoginAction(this.state.email,this.state.password);\n    }\n  }\n\n  setformData(e, value) {\n    this.setState({\n      pwdError: false,\n      mailError: ''\n    });\n\n    if (value === 'pwd') {\n      this.setState({\n        password: e.target.value\n      });\n    } else {\n      console.log(e.target.value);\n      this.setState({\n        email: e.target.value\n      });\n    }\n\n    return;\n  }\n\n  componentDidUpdate(prevState, prevProps) {\n    if (this.props.isAthenticated) {\n      window.location.href = '/shop';\n    }\n\n    if (this.props.loginStatus) {\n      if (this.props.loginText === 'invalid') {\n        this.setState({\n          loginErr: 'email or password is incorrect.'\n        });\n      } else {\n        this.setState({\n          loginErr: 'email does not exist.'\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"appCapsule\",\n        className: \"pt-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-form mt-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section mt-1 mb-5\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group boxed\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    className: \"form-control\",\n                    id: \"email1\",\n                    placeholder: \"Enter your email address\",\n                    onChange: e => this.setformData(e, 'email')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"clear-input\",\n                    children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                      name: \"close-circle\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 23\n                }, this), this.state.mailError]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group boxed\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-wrapper\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    className: \"form-control\",\n                    id: \"password1\",\n                    placeholder: \"Enter your password\",\n                    autoComplete: \"off\",\n                    onChange: e => this.setformData(e, 'pwd')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 23\n                }, this), this.state.pwdError && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: 'red'\n                  },\n                  children: \"Passsword field cannot be empty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 47\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 21\n              }, this), console.log(this.props.isAuthenticated, this.props.loginText), this.state.loginErr, this.props.isAuthenticated ? /*#__PURE__*/_jsxDEV(Navigate, {\n                to: \"/anouncement-page\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 49\n              }, this) : this.props.loginText === 'invalid' ? /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"email or password incorrect.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 59\n              }, this) : this.props.loginText === \"not_exist\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"email does not exists.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 59\n              }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-button-group\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-primary btn-block btn-lg\",\n                  onClick: this.handleForm,\n                  children: \"Log in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  //   loginStatus: state.loginStatus,\n  //   loginText: state.loginText,\n  isAuthenticated: state.isAuthenticated\n});\n\nconst mapDisparchToProps = dispatch => ({//   LoginAction : (email,pwd) => dispatch(LoginAction(email,pwd))\n});\n\nexport default connect(mapStateToProps, mapDisparchToProps)(Login);","map":{"version":3,"names":["React","connect","Navigate","Login","Component","constructor","props","state","email","password","mailError","pwdError","loginErr","handleForm","bind","setformData","event","validate","preventDefault","setState","color","match","e","value","target","console","log","componentDidUpdate","prevState","prevProps","isAthenticated","window","location","href","loginStatus","loginText","render","isAuthenticated","mapStateToProps","mapDisparchToProps","dispatch"],"sources":["/home/tanisha/Desktop/announcement-page/src/components/login.js"],"sourcesContent":["// import React, {useState} from 'react'\nimport React from 'react'\nimport {connect} from \"react-redux\";\n// import {LoginAction} from '../actions'\nimport { Navigate } from 'react-router';\nclass Login extends React.Component\n{\n    constructor(props){\n      super(props)\n      this.state = {\n        email:'',\n        password:'',\n        mailError:'',\n        pwdError:false,\n        loginErr:''\n      }\n      this.handleForm = this.handleForm.bind(this);\n      this.setformData = this.setformData.bind(this)\n    }\n    handleForm(event){\n      let validate = true;\n      event.preventDefault();\n      if(this.state.password === ''){\n        validate = false;\n        this.setState({\n          pwdError: true\n        })\n      }\n      if(this.state.email === ''){\n        validate = false;\n        this.setState({\n          mailError:<p style={{color:'red'}}>email field cannot be empty.</p>\n        })\n      }\n      if(!this.state.email.match(/^[A-Za-z0-9+-._]+@[A-Za-z0-9]+\\.[a-zA-Z]+$/)){\n        validate = false;\n        this.setState({\n          mailError:<p style={{color:'red'}}>Invalid email. Please enter valid email.</p>\n        })\n      }\n      if(validate){\n        // this.props.LoginAction(this.state.email,this.state.password);\n      }\n    }\n    setformData(e,value){\n      this.setState({\n        pwdError:false,\n        mailError:''\n      })\n      if(value === 'pwd'){\n        this.setState({\n          password: e.target.value\n        })}\n      else{\n        console.log(e.target.value)\n        this.setState({\n          email: e.target.value\n        })\n      }\n      return;\n    }\n    componentDidUpdate(prevState, prevProps){\n      if(this.props.isAthenticated){\n        window.location.href = '/shop'\n      }\n      if(this.props.loginStatus){\n        if(this.props.loginText === 'invalid'){\n          this.setState({\n            loginErr: 'email or password is incorrect.'\n          })\n        }\n        else{\n          this.setState({\n            loginErr: 'email does not exist.'\n          })\n        }\n      }\n    }\n    render()\n    {\n        return (\n            <>\n            <div id=\"appCapsule\" className=\"pt-0\">\n              <div className=\"login-form mt-1\">\n                <div className=\"section mt-1\">\n                  {/* <h1>Get started</h1> */}\n                  <h4>Log in</h4>\n                </div>\n                <div className=\"section mt-1 mb-5\">\n                  <form>\n                    <div className=\"form-group boxed\">\n                      <div className=\"input-wrapper\">\n                        <input\n                          type=\"email\"\n                          className=\"form-control\"\n                          id=\"email1\"\n                          placeholder=\"Enter your email address\"\n                          onChange={e=>this.setformData(e,'email')}\n                        />\n                        <i className=\"clear-input\">\n                          <ion-icon name=\"close-circle\" />\n                        </i>\n                      </div>\n                      {this.state.mailError}\n                    </div>\n                    <div className=\"form-group boxed\">\n                      <div className=\"input-wrapper\">\n                        <input\n                          type=\"password\"\n                          className=\"form-control\"\n                          id=\"password1\"\n                          placeholder=\"Enter your password\"\n                          autoComplete=\"off\"\n                          onChange={e=>this.setformData(e,'pwd')}\n                        />\n                        {/* <i className=\"clear-input\">\n                          <ion-icon name=\"close-circle\" />\n                        </i> */}\n                      </div>\n                      {this.state.pwdError && <p style={{color:'red'}}>Passsword field cannot be empty</p>}\n                    </div>\n                    {/* <div className=\"form-links mt-2\">\n                      <div>\n                        <a href=\"/shop/register\">Register Now</a>\n                      </div>\n                      <div>\n                        <a href=\"/shop/forgot-password\" className=\"text-muted\">\n                          Forgot Password?\n                        </a>\n                      </div>\n                    </div> */}\n                    {console.log(this.props.isAuthenticated, this.props.loginText)}\n                    {this.state.loginErr}\n                    {this.props.isAuthenticated?<Navigate to ='/anouncement-page'/>\n                      :this.props.loginText === 'invalid'?<p style={{color:'red'}}>email or password incorrect.</p>\n                      :this.props.loginText===\"not_exist\"?<p style={{color:'red'}}>email does not exists.</p>:''\n                    }\n                    \n                    <div className=\"form-button-group\">\n                      <button type=\"submit\" className=\"btn btn-primary btn-block btn-lg\" onClick={this.handleForm}>\n                        Log in\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </>\n        )\n    }\n}\nconst mapStateToProps = state => ({\n//   loginStatus: state.loginStatus,\n//   loginText: state.loginText,\n  isAuthenticated: state.isAuthenticated\n})\nconst mapDisparchToProps = (dispatch) =>({\n//   LoginAction : (email,pwd) => dispatch(LoginAction(email,pwd))\n})\nexport default connect(mapStateToProps, mapDisparchToProps)(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}